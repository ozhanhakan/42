# Test/Makefile

CC = cc
CFLAGS = -Wall -Wextra -Werror
INCLUDES = -I..
LIBFT = ../libft.a

# TÃ¼m test dosyalarÄ±nÄ± otomatik bulma
TEST_SRCS = $(wildcard *_test.c)
TEST_TARGETS = $(TEST_SRCS:_test.c=)

# VarsayÄ±lan hedef (tÃ¼m testleri listeler)
.PHONY: all
all:
	@echo "KullanÄ±labilir testler:"
	@for target in $(TEST_TARGETS); do \
		echo "- make $$target"; \
	done

# Dinamik hedef oluÅŸturma (her test iÃ§in)
define TEST_TEMPLATE
.PHONY: $(1)
$(1): $(1)_test.c $(LIBFT)
	@echo "ðŸ”¨ Derleniyor: $$<"
	@$(CC) $(CFLAGS) $(INCLUDES) $$< $(LIBFT) -o $$@
	@echo "ðŸš€ Ã‡alÄ±ÅŸtÄ±rÄ±lÄ±yor: ./$$@"
	@./$$@
endef

# Her test dosyasÄ± iÃ§in hedef oluÅŸtur
$(foreach test,$(TEST_TARGETS),$(eval $(call TEST_TEMPLATE,$(test))))

# Temizleme
.PHONY: clean
clean:
	@rm -f $(TEST_TARGETS)
	@echo "ðŸ§¹ Ã‡alÄ±ÅŸtÄ±rÄ±labilir dosyalar silindi."